{
    "actions": [
        {"CommandType": "Condition", "Parameters": {"name": "wait", "instanceName": "client-1"}},
        {"CommandType": "Redo"},
        {"CommandType": "Condition", "Parameters": {"name": "wait", "instanceName": "client-2"}},
        {"CommandType": "Redo"},
        {"CommandType": "Condition", "Parameters": {"name": "wait","instanceName": "logger"}},
        {"CommandType": "Redo"},
        {"CommandType": "Condition", "Parameters": { "name": "running", "instanceName": "transaction-1"}},
        {"CommandType": "Redo"},
        {"CommandType": "Condition", "Parameters": {"name": "running", "instanceName": "transaction-2"}},
        {"CommandType": "Redo"},
        {"CommandType": "Condition", "Parameters": {"name": "wait", "instanceName": "transaction-manager"}},
        {"CommandType": "Redo"},
        {"CommandType": "Instance", "Parameters": {"name": "supervisor-gui"}},
        {"CommandType": "Redo"},
        {"CommandType": "Instance", "Parameters": {"name": "client-2"}},
        {"CommandType": "Redo"},
        {"CommandType": "Message", "Parameters": {"name": "start-client", "srcName": "supervisor-gui", "dstName": "client-2"}},
        {"CommandType": "Redo"},
        {"CommandType": "Instance", "Parameters": {"name": "transaction-manager"}},
        {"CommandType": "Redo"},
        {"CommandType": "Message", "Parameters": {"name": "request-content", "srcName": "client-2", "dstName": "transaction-manager", "Async" : "sent"}},
        {"CommandType": "Redo"},
        {"CommandType": "Condition", "Parameters": {"name": "wait_for_data", "instanceName": "client-2"}},
        {"CommandType": "Redo"},
        {"CommandType": "Message", "Parameters": {"name": "request-content", "srcName": "client-2", "dstName": "transaction-manager", "Async": "received"}},
        {"CommandType": "Redo"},
        {"CommandType": "Instance", "Parameters": {"name": "transaction-1"}},
        {"CommandType": "Redo"},
        {"CommandType": "Message", "Parameters": {"name": "create", "srcName": "transaction-manager", "dstName": "transaction-1", "MessageType": "Create"}},
        {"CommandType": "Redo"},
        {"CommandType": "Instance", "Parameters": {"name": "logger"}},
        {"CommandType": "Redo"},
        {"CommandType": "Message", "Parameters": {"name": "log", "srcName": "transaction-manager", "dstName": "logger"}},
        {"CommandType": "Redo"},
        {"CommandType": "Message", "Parameters": {"name": "new-transaction({ client client-2 })", "srcName": "transaction-manager", "dstName": "transaction-1", "Async": "sent"}},
        {"CommandType": "Redo"},
        {"CommandType": "Condition", "Parameters": {"name": "wait", "instanceName": "transaction-1"}},
        {"CommandType": "Redo"},
        {"CommandType": "Message", "Parameters": {"name": "new-transaction({ client client-2 })", "srcName": "transaction-manager", "dstName": "transaction-1", "Async": "received"}},
        {"CommandType": "Redo"},
        {"CommandType": "Condition", "Parameters": {"name": "running", "instanceName": "transaction-1"}},
        {"CommandType": "Redo"},
        {"CommandType": "Timer", "Parameters": {"name": "pulse", "instanceName": "transaction-1", "TimerType": "Timeout"}},
        {"CommandType": "Redo"},
        {"CommandType": "Message", "Parameters": {"name": "send-content({ p1 0 })", "srcName": "transaction-1", "dstName": "client-2", "Async": "sent"}},
        {"CommandType": "Redo"},
        {"CommandType": "Message", "Parameters": {"name": "send-content({ p1 0 })", "srcName": "transaction-1", "dstName": "client-2", "Async": "received"}},
        {"CommandType": "Redo"},
        {"CommandType": "Instance", "Parameters": {"name": "transaction-2"}},
        {"CommandType": "Redo"},
        {"CommandType": "Timer", "Parameters": {"name": "pulse", "instanceName": "transaction-2", "TimerType": "Timeout"}},
        {"CommandType": "Redo"},
        {"CommandType": "Timer", "Parameters": {"name": "pulse", "instanceName": "transaction-1", "TimerType": "Timeout"}},
        {"CommandType": "Redo"},
        {"CommandType": "Message", "Parameters": {"name": "send-content({ p1 1 })", "srcName": "transaction-1", "dstName": "client-2", "Async": "sent"}},
        {"CommandType": "Redo"},
        {"CommandType": "Message", "Parameters": {"name": "send-content({ p1 1 })", "srcName": "transaction-1", "dstName": "client-2", "Async": "received"}},
        {"CommandType": "Redo"},
        {"CommandType": "Timer", "Parameters": {"name": "pulse", "instanceName": "transaction-2", "TimerType": "Timeout"}},
        {"CommandType": "Redo"},
        {"CommandType": "Timer", "Parameters": {"name": "pulse", "instanceName": "transaction-1", "TimerType": "Timeout"}},
        {"CommandType": "Redo"},
        {"CommandType": "Message", "Parameters": {"name": "send-content({ p1 2 })", "srcName": "transaction-1", "dstName": "client-2", "Async": "sent"}},
        {"CommandType": "Redo"},
        {"CommandType": "Message", "Parameters": {"name": "send-content({ p1 2 })", "srcName": "transaction-1", "dstName": "client-2", "Async": "received"}},
        {"CommandType": "Redo"},
        {"CommandType": "Message", "Parameters": {"name": "end-transaction", "srcName": "client-2", "dstName": "transaction-1", "Async": "sent"}},
        {"CommandType": "Redo"},
        {"CommandType": "Condition", "Parameters": {"name": "wait", "instanceName": "client-2"}},
        {"CommandType": "Redo"},
        {"CommandType": "Message", "Parameters": {"name": "end-transaction", "srcName": "client-2", "dstName": "transaction-1", "Async": "received"}},
        {"CommandType": "Redo"}
    ]
}
