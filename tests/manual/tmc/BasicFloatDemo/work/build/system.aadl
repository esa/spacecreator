--  TASTE Concurrency View - Generated by Kazoo, do not edit manually
--  Generated by the template: ~/tool-src/kazoo/templates/concurrency_view/aadl_2_threads/system.tmplt

package Actuator_Controlsignal_Thread
public
   with Deployment;
   with Process_Package;
   with Dataview;

thread Actuator_Controlsignal
features
   INPORT_Controlsignal : in event data port DataView::T_Float_Buffer.impl
      { Compute_Execution_Time =>  0 ms ..  0 ms;
        Queue_Size =>  1;
        Compute_Entrypoint_Source_Text => "Demo_TASTE_Interface.Actuator_Controlsignal_controlsignal"; };
   OUTPORT_Systemcontrol_Reporting : out event port;
end Actuator_Controlsignal;

thread implementation Actuator_Controlsignal.others
properties
   Activate_Entrypoint_Source_Text => "Demo_TASTE_Interface.Actuator_Controlsignal_Init";
   Dispatch_Protocol                 => Sporadic;
   Period                            => 1 ms;
   Dispatch_Offset                   =>  0 ms;
   Compute_Execution_Time            =>  0 ms ..  0 ms;
   Stack_Size                        =>  1024 Bytes;
   Priority                          =>  1;
end Actuator_Controlsignal.others;

end Actuator_Controlsignal_Thread;
package Egse_Poll_Thread
public
   with Deployment;
   with Process_Package;
   with Dataview;

thread Egse_Poll
features
   OUTPORT_Systemcontrol_Tc : out event data port DataView::T_Int_Buffer.impl;
end Egse_Poll;

thread implementation Egse_Poll.others
properties
   Activate_Entrypoint_Source_Text => "Demo_TASTE_Interface.Egse_Poll_Init";
   Compute_Entrypoint_Source_Text    => "Demo_TASTE_Interface.Egse_Poll_Poll";
   Dispatch_Protocol                 => Periodic;
   Period                            => 10 ms;
   Dispatch_Offset                   =>  0 ms;
   Compute_Execution_Time            =>  0 ms ..  0 ms;
   Stack_Size                        =>  4096 Bytes;
   Priority                          =>  1;
end Egse_Poll.others;

end Egse_Poll_Thread;
package Egse_Tm_Thread
public
   with Deployment;
   with Process_Package;
   with Dataview;

thread Egse_Tm
features
   INPORT_Tm : in event data port DataView::T_Int_Buffer.impl
      { Compute_Execution_Time =>  0 ms ..  0 ms;
        Queue_Size =>  1;
        Compute_Entrypoint_Source_Text => "Demo_TASTE_Interface.Egse_Tm_tm"; };
   OUTPORT_Systemcontrol_Tc : out event data port DataView::T_Int_Buffer.impl;
end Egse_Tm;

thread implementation Egse_Tm.others
properties
   Activate_Entrypoint_Source_Text => "Demo_TASTE_Interface.Egse_Tm_Init";
   Dispatch_Protocol                 => Sporadic;
   Period                            => 1 ms;
   Dispatch_Offset                   =>  0 ms;
   Compute_Execution_Time            =>  0 ms ..  0 ms;
   Stack_Size                        =>  1024 Bytes;
   Priority                          =>  1;
end Egse_Tm.others;

end Egse_Tm_Thread;
package Sensor_Trigger_Thread
public
   with Deployment;
   with Process_Package;
   with Dataview;

thread Sensor_Trigger
features
   OUTPORT_Systemcontrol_Reading : out event data port DataView::T_Float_Buffer.impl;
end Sensor_Trigger;

thread implementation Sensor_Trigger.others
properties
   Activate_Entrypoint_Source_Text => "Demo_TASTE_Interface.Sensor_Trigger_Init";
   Compute_Entrypoint_Source_Text    => "Demo_TASTE_Interface.Sensor_Trigger_trigger";
   Dispatch_Protocol                 => Periodic;
   Period                            => 1000 ms;
   Dispatch_Offset                   =>  0 ms;
   Compute_Execution_Time            =>  0 ms ..  0 ms;
   Stack_Size                        =>  1024 Bytes;
   Priority                          =>  1;
end Sensor_Trigger.others;

end Sensor_Trigger_Thread;
package Systemcontrol_Reading_Thread
public
   with Deployment;
   with Process_Package;
   with Dataview;

thread Systemcontrol_Reading
features
   INPORT_Reading : in event data port DataView::T_Float_Buffer.impl
      { Compute_Execution_Time =>  0 ms ..  0 ms;
        Queue_Size =>  1;
        Compute_Entrypoint_Source_Text => "Demo_TASTE_Interface.Systemcontrol_Reading_reading"; };
   OUTPORT_Actuator_Controlsignal : out event data port DataView::T_Float_Buffer.impl;
   OUTPORT_Egse_Tm : out event data port DataView::T_Int_Buffer.impl;
end Systemcontrol_Reading;

thread implementation Systemcontrol_Reading.others
properties
   Activate_Entrypoint_Source_Text => "Demo_TASTE_Interface.Systemcontrol_Reading_Init";
   Dispatch_Protocol                 => Sporadic;
   Period                            => 1 ms;
   Dispatch_Offset                   =>  0 ms;
   Compute_Execution_Time            =>  0 ms ..  0 ms;
   Stack_Size                        =>  1024 Bytes;
   Priority                          =>  1;
end Systemcontrol_Reading.others;

end Systemcontrol_Reading_Thread;
package Systemcontrol_Reporting_Thread
public
   with Deployment;
   with Process_Package;
   with Dataview;

thread Systemcontrol_Reporting
features
   INPORT_Reporting : in event port
      { Compute_Execution_Time =>  0 ms ..  0 ms;
        Queue_Size =>  1;
        Compute_Entrypoint_Source_Text => "Demo_TASTE_Interface.Systemcontrol_Reporting_reporting"; };
   OUTPORT_Actuator_Controlsignal : out event data port DataView::T_Float_Buffer.impl;
   OUTPORT_Egse_Tm : out event data port DataView::T_Int_Buffer.impl;
end Systemcontrol_Reporting;

thread implementation Systemcontrol_Reporting.others
properties
   Activate_Entrypoint_Source_Text => "Demo_TASTE_Interface.Systemcontrol_Reporting_Init";
   Dispatch_Protocol                 => Sporadic;
   Period                            => 1 ms;
   Dispatch_Offset                   =>  0 ms;
   Compute_Execution_Time            =>  0 ms ..  0 ms;
   Stack_Size                        =>  1024 Bytes;
   Priority                          =>  1;
end Systemcontrol_Reporting.others;

end Systemcontrol_Reporting_Thread;
package Systemcontrol_Tc_Thread
public
   with Deployment;
   with Process_Package;
   with Dataview;

thread Systemcontrol_Tc
features
   INPORT_Tc : in event data port DataView::T_Int_Buffer.impl
      { Compute_Execution_Time =>  0 ms ..  0 ms;
        Queue_Size =>  1;
        Compute_Entrypoint_Source_Text => "Demo_TASTE_Interface.Systemcontrol_Tc_tc"; };
   OUTPORT_Actuator_Controlsignal : out event data port DataView::T_Float_Buffer.impl;
   OUTPORT_Egse_Tm : out event data port DataView::T_Int_Buffer.impl;
end Systemcontrol_Tc;

thread implementation Systemcontrol_Tc.others
properties
   Activate_Entrypoint_Source_Text => "Demo_TASTE_Interface.Systemcontrol_Tc_Init";
   Dispatch_Protocol                 => Sporadic;
   Period                            => 1 ms;
   Dispatch_Offset                   =>  0 ms;
   Compute_Execution_Time            =>  0 ms ..  0 ms;
   Stack_Size                        =>  1024 Bytes;
   Priority                          =>  1;
end Systemcontrol_Tc.others;

end Systemcontrol_Tc_Thread;

package Process_Package
public
   with arinc653;
   with Deployment;
   with DataView;
   with interfaceview::IV;
   with deploymentview::DV;
   with deploymentview::DV::node_linux;
   with Actuator_Controlsignal_Thread;
   with Egse_Poll_Thread;
   with Egse_Tm_Thread;
   with Sensor_Trigger_Thread;
   with Systemcontrol_Reading_Thread;
   with Systemcontrol_Reporting_Thread;
   with Systemcontrol_Tc_Thread;
   with Ocarina_Processors_X86;


--  Required by AIR to allow inter-partition communications
subprogram do_ports_polling
properties
   Source_Language => C;
   Source_Name     => "user_ports_polling";
   Source_Text     => ("air_polling.c");
end do_ports_polling;
thread Port_Poller
end    Port_Poller;

thread implementation Port_Poller.i
calls
   Mycalls: {
      P_Spg : subprogram do_ports_polling;
   };
properties
   Dispatch_Protocol => Periodic;
   Period            => 100 ms;
   Deadline          => 100 ms;
end Port_Poller.i;


processor node_linux_Board extends ocarina_processors_x86::x86
end node_linux_Board;

processor implementation node_linux_Board.final extends ocarina_processors_x86::x86.generic_linux
end node_linux_Board.final;


process Demo extends DeploymentView::DV::Node_Linux::Demo
end demo;

process implementation Demo.final
subcomponents
   
   actuator_controlsignal  : thread actuator_controlsignal_Thread::actuator_controlsignal.others;
   egse_Poll               : thread egse_Poll_Thread::egse_Poll.others;
   egse_tm                 : thread egse_tm_Thread::egse_tm.others;
   sensor_trigger          : thread sensor_trigger_Thread::sensor_trigger.others;
   systemcontrol_reading   : thread systemcontrol_reading_Thread::systemcontrol_reading.others;
   systemcontrol_reporting : thread systemcontrol_reporting_Thread::systemcontrol_reporting.others;
   systemcontrol_tc        : thread systemcontrol_tc_Thread::systemcontrol_tc.others;
connections
   port Actuator_Controlsignal.OUTPORT_Systemcontrol_Reporting -> Systemcontrol_Reporting.INPORT_Reporting;
   port Egse_Poll.OUTPORT_Systemcontrol_Tc                     -> Systemcontrol_Tc.INPORT_Tc;
   port Egse_Tm.OUTPORT_Systemcontrol_Tc                       -> Systemcontrol_Tc.INPORT_Tc;
   port Sensor_Trigger.OUTPORT_Systemcontrol_Reading           -> Systemcontrol_Reading.INPORT_Reading;
   port Systemcontrol_Reading.OUTPORT_Actuator_Controlsignal   -> Actuator_Controlsignal.INPORT_Controlsignal;
   port Systemcontrol_Reading.OUTPORT_Egse_Tm                  -> Egse_Tm.INPORT_Tm;
   port Systemcontrol_Reporting.OUTPORT_Actuator_Controlsignal -> Actuator_Controlsignal.INPORT_Controlsignal;
   port Systemcontrol_Reporting.OUTPORT_Egse_Tm                -> Egse_Tm.INPORT_Tm;
   port Systemcontrol_Tc.OUTPORT_Actuator_Controlsignal        -> Actuator_Controlsignal.INPORT_Controlsignal;
   port Systemcontrol_Tc.OUTPORT_Egse_Tm                       -> Egse_Tm.INPORT_Tm;
end Demo.final;

system DeploymentView
end DeploymentView;

system implementation DeploymentView.final
subcomponents
   Demo : process Demo.final;
   Node_Linux_x86_linux : processor Node_Linux_Board.final;
properties
   Actual_Processor_Binding => (reference (Node_Linux_x86_linux)) applies to Demo;
--  patchable area (do not remove this line):
end DeploymentView.final;

end Process_Package;

-- deploymenttview.final
