#include <activity.h>
#include <types.h>
#include <deployment.h>
#include <po_hi_task.h>
#include <po_hi_main.h>
#include <po_hi_time.h>
/**************************************************** */
/*  This file was automatically generated by Ocarina  */
/*  Working Copy from r36f4e31c */
/*  Do NOT hand-modify this file, as your             */
/*  changes will be lost when you re-run Ocarina      */
/**************************************************** */
void __po_hi_main_initialize (void);
extern process_package__taste_protected_object controller_protected;
extern process_package__taste_protected_object qgenhost_protected;

/*!
 * \fn void* controller_trigger_job (void)
 * \brief Function executed by the task controller_trigger
 *
 * This function is executed as soon as the task  is created. It performs the 
 * following operations:  Receive incoming data,  Execute tasks subprograms,  
 * Send output data.
 */
/*  Periodic task : controller_Trigger */
extern void call_controller_trigger 
    (__po_hi_task_id self);
extern void init_controller (void);
void* controller_trigger_job (void)
{

  init_controller ();
  
/*!
 * Waiting for other tasks initialization
 */
  __po_hi_wait_initialization ();
  __po_hi_time_t offset;
  __po_hi_milliseconds (&(offset), 0);
  __po_hi_task_wait_offset (&(offset));
  __po_hi_compute_next_period (demo_controller_trigger_k);
  
/*!
 * Waiting for the first dispatch instant
 */
  __po_hi_wait_for_next_period (demo_controller_trigger_k);
  
/*!
 * Task body
 */
  while (1)
  {
    /*  Make_Thread_Compute_Entrypoint */
    call_controller_trigger (demo_controller_trigger_k);
    __po_hi_wait_for_next_period (demo_controller_trigger_k);
  }
}


