# Generated by TASTE - do not edit (run taste-process-observers to update)

all: modelcheck

modelcheck: mcsrc/modelcheck.adb mcsrc/properties.adb mcsrc/mc.adb mcsrc/mc.ads observers/gser.ads
	ADA_PROJECT_PATH=~/.local/share/gpr:${ADA_PROJECT_PATH} gprbuild -p -P mc

libsimulator.so: mcsrc/modelcheck.adb mcsrc/properties.adb mcsrc/mc.adb mcsrc/mc.ads observers/gser.ads
	#  make a library version for python interfacing
	ADA_PROJECT_PATH=~/.local/share/gpr:${ADA_PROJECT_PATH} gprbuild -p -P mc_lib.gpr

simu: libsimulator.so
	taste-interactive-simulator



observers/gser.ads: observer.asn 
	# generate Ada package to print asn1 values
	taste-asn1-gser --raw -o observers --module gser observer.asn 

clean:
	ADA_PROJECT_PATH=~/.local/share/gpr:${ADA_PROJECT_PATH} gprclean -P mc_lib || :
	ADA_PROJECT_PATH=~/.local/share/gpr:${ADA_PROJECT_PATH} gprclean -P mc || :
	rm -rf observers/*.ad? *.ali *.[cho] *.so *.ad[bs] *.cfg obj

.PHONY: simu clean all
